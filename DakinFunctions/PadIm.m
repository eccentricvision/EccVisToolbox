function newim=PadIm(varargin)% Function PadIm(SourceImage,[NewX NewY],{background colour})% Pads image using either an input background colour, or it's own% estimate of background. Returns padded image.im=varargin{1};newsize=varargin{2};if (length(varargin)<3)	min1=min(min(im));	max1=max(max(im));	mean1=mean(mean(im));	if (abs(mean1-max1)>abs(mean1-min1))		Background=min1;	else		Background=max1;		endelse	Background=varargin{3};end[a,b,c]=size(im);na=newsize(1);nb=newsize(2);start_x=1+round((na-a)/2);start_y=1+round((nb-b)/2);newim=zeros(na,nb,c);for i=1:c    newim(:,:,i)=Background(i);	newim(start_x:start_x+a-1,start_y:start_y+b-1,i)=im(:,:,i);end